<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Nodes are the basic building-blocks of a Canopy UI. They are composed in a tree, with each node responsible for managing its own children."><title>Node in canopy_core::node - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../../static.files/rustdoc-1a91846b.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="canopy_core" data-themes="" data-resource-suffix="" data-rustdoc-version="1.88.0 (6b00bc388 2025-06-23)" data-channel="1.88.0" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../canopy_core/index.html">canopy_<wbr>core</a><span class="version">0.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Node</a></h2><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.accept_focus" title="accept_focus">accept_focus</a></li><li><a href="#method.children" title="children">children</a></li><li><a href="#method.cursor" title="cursor">cursor</a></li><li><a href="#method.force_render" title="force_render">force_render</a></li><li><a href="#method.handle_key" title="handle_key">handle_key</a></li><li><a href="#method.handle_mouse" title="handle_mouse">handle_mouse</a></li><li><a href="#method.layout" title="layout">layout</a></li><li><a href="#method.poll" title="poll">poll</a></li><li><a href="#method.render" title="render">render</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2><a href="index.html">In canopy_<wbr>core::<wbr>node</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="../index.html">canopy_core</a>::<wbr><a href="index.html">node</a></div><h1>Trait <span class="trait">Node</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../../src/canopy_core/node.rs.html#43-100">Source</a> </span></div><pre class="rust item-decl"><code>pub trait Node: <a class="trait" href="../state/trait.StatefulNode.html" title="trait canopy_core::state::StatefulNode">StatefulNode</a> + <a class="trait" href="../commands/trait.CommandNode.html" title="trait canopy_core::commands::CommandNode">CommandNode</a> {
    // Provided methods
    fn <a href="#method.force_render" class="fn">force_render</a>(&amp;self, c: &amp;dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.cursor" class="fn">cursor</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../cursor/struct.Cursor.html" title="struct canopy_core::cursor::Cursor">Cursor</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.accept_focus" class="fn">accept_focus</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.children" class="fn">children</a>(
        &amp;mut self,
        f: &amp;mut dyn <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(&amp;mut dyn <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a>) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;,
    ) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_key" class="fn">handle_key</a>(
        &amp;mut self,
        c: &amp;mut dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>,
        k: <a class="struct" href="../event/key/struct.Key.html" title="struct canopy_core::event::key::Key">Key</a>,
    ) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy_core::node::EventOutcome">EventOutcome</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_mouse" class="fn">handle_mouse</a>(
        &amp;mut self,
        c: &amp;mut dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>,
        k: <a class="struct" href="../event/mouse/struct.MouseEvent.html" title="struct canopy_core::event::mouse::MouseEvent">MouseEvent</a>,
    ) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy_core::node::EventOutcome">EventOutcome</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.poll" class="fn">poll</a>(&amp;mut self, c: &amp;mut dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.88.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.layout" class="fn">layout</a>(&amp;mut self, l: &amp;<a class="struct" href="../struct.Layout.html" title="struct canopy_core::Layout">Layout</a>, target: <a class="struct" href="../struct.Expanse.html" title="struct canopy_core::Expanse">Expanse</a>) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.render" class="fn">render</a>(&amp;mut self, c: &amp;dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>, r: &amp;mut <a class="struct" href="../render/struct.Render.html" title="struct canopy_core::render::Render">Render</a>&lt;'_&gt;) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Nodes are the basic building-blocks of a Canopy UI. They are composed in a tree, with each node responsible for
managing its own children.</p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">ยง</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.force_render" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#46-48">Source</a><h4 class="code-header">fn <a href="#method.force_render" class="fn">force_render</a>(&amp;self, c: &amp;dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Force the node to render in the next sweep. Over-riding this method should only be needed rarely, for instance
when a container node (e.g. a frame) needs to redraw if a child node changes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.cursor" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#52-54">Source</a><h4 class="code-header">fn <a href="#method.cursor" class="fn">cursor</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="../cursor/struct.Cursor.html" title="struct canopy_core::cursor::Cursor">Cursor</a>&gt;</h4></section></summary><div class="docblock"><p>Called for each node on the focus path, after each render sweep. The first node that returns a
<code>cursor::Cursor</code> specification controls the cursor. If no node returns a cursor, cursor display is disabled.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.accept_focus" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#58-60">Source</a><h4 class="code-header">fn <a href="#method.accept_focus" class="fn">accept_focus</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Attempt to focus this node. If the node accepts focus, it should return true, and if not return false. The
default implementation returns false.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.children" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#65-67">Source</a><h4 class="code-header">fn <a href="#method.children" class="fn">children</a>(
    &amp;mut self,
    f: &amp;mut dyn <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(&amp;mut dyn <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a>) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;,
) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Call a closure on this nodeโs children. If any child handler returns an error, processing terminates without
visiting the remaining children. The order in which nodes are processed should match intuitive next/previous
relationships. The default implementation assumes this node has no children, and just returns.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.handle_key" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#71-73">Source</a><h4 class="code-header">fn <a href="#method.handle_key" class="fn">handle_key</a>(&amp;mut self, c: &amp;mut dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>, k: <a class="struct" href="../event/key/struct.Key.html" title="struct canopy_core::event::key::Key">Key</a>) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy_core::node::EventOutcome">EventOutcome</a>&gt;</h4></section></summary><div class="docblock"><p>Handle a key input event. This event is only called for nodes that are on the focus path. The default
implementation ignores input.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.handle_mouse" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#76-78">Source</a><h4 class="code-header">fn <a href="#method.handle_mouse" class="fn">handle_mouse</a>(
    &amp;mut self,
    c: &amp;mut dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>,
    k: <a class="struct" href="../event/mouse/struct.MouseEvent.html" title="struct canopy_core::event::mouse::MouseEvent">MouseEvent</a>,
) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy_core::node::EventOutcome">EventOutcome</a>&gt;</h4></section></summary><div class="docblock"><p>Handle a mouse input event. The default implementation ignores mouse input.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.poll" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#83-85">Source</a><h4 class="code-header">fn <a href="#method.poll" class="fn">poll</a>(&amp;mut self, c: &amp;mut dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.88.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt;</h4></section></summary><div class="docblock"><p>The scheduled poll endpoint. This function is called for every node the first time it is seen during the
pre-render sweep. Each time the function returns a duration, a subsequent call is scheduled. If the function
returns None, the <code>poll</code> function is never called again. The default implementation returns <code>None</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.layout" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#92-94">Source</a><h4 class="code-header">fn <a href="#method.layout" class="fn">layout</a>(&amp;mut self, l: &amp;<a class="struct" href="../struct.Layout.html" title="struct canopy_core::Layout">Layout</a>, target: <a class="struct" href="../struct.Expanse.html" title="struct canopy_core::Expanse">Expanse</a>) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Re-compute the size and view of the node to display in the target area. In practice, nodes
will either constrain themselves based on the width or the height of the target area, or
neither, but not both. The resulting size may be smaller or larger than the target. If
non-trivial computation is done (e.g. reflowing text), it should be cached for use by
future calls.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.render" class="method"><a class="src rightside" href="../../src/canopy_core/node.rs.html#97-99">Source</a><h4 class="code-header">fn <a href="#method.render" class="fn">render</a>(&amp;mut self, c: &amp;dyn <a class="trait" href="../trait.Context.html" title="trait canopy_core::Context">Context</a>, r: &amp;mut <a class="struct" href="../render/struct.Render.html" title="struct canopy_core::render::Render">Render</a>&lt;'_&gt;) -&gt; <a class="type" href="../error/type.Result.html" title="type canopy_core::error::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Render this widget, only drawing itself with reference to its own canvas.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">ยง</a></h2><div id="implementors-list"><section id="impl-Node-for-GridNode" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/grid.rs.html#148-202">Source</a><a href="#impl-Node-for-GridNode" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="enum" href="../tutils/grid/enum.GridNode.html" title="enum canopy_core::tutils::grid::GridNode">GridNode</a></h3></section><section id="impl-Node-for-Grid" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/grid.rs.html#315-331">Source</a><a href="#impl-Node-for-Grid" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/grid/struct.Grid.html" title="struct canopy_core::tutils::grid::Grid">Grid</a></h3></section><section id="impl-Node-for-Ba" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/ttree.rs.html#292">Source</a><a href="#impl-Node-for-Ba" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/ttree/struct.Ba.html" title="struct canopy_core::tutils::ttree::Ba">Ba</a></h3></section><section id="impl-Node-for-BaLa" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/ttree.rs.html#288">Source</a><a href="#impl-Node-for-BaLa" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/ttree/struct.BaLa.html" title="struct canopy_core::tutils::ttree::BaLa">BaLa</a></h3></section><section id="impl-Node-for-BaLb" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/ttree.rs.html#289">Source</a><a href="#impl-Node-for-BaLb" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/ttree/struct.BaLb.html" title="struct canopy_core::tutils::ttree::BaLb">BaLb</a></h3></section><section id="impl-Node-for-Bb" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/ttree.rs.html#293">Source</a><a href="#impl-Node-for-Bb" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/ttree/struct.Bb.html" title="struct canopy_core::tutils::ttree::Bb">Bb</a></h3></section><section id="impl-Node-for-BbLa" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/ttree.rs.html#290">Source</a><a href="#impl-Node-for-BbLa" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/ttree/struct.BbLa.html" title="struct canopy_core::tutils::ttree::BbLa">BbLa</a></h3></section><section id="impl-Node-for-BbLb" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/ttree.rs.html#291">Source</a><a href="#impl-Node-for-BbLb" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/ttree/struct.BbLb.html" title="struct canopy_core::tutils::ttree::BbLb">BbLb</a></h3></section><section id="impl-Node-for-R" class="impl"><a class="src rightside" href="../../src/canopy_core/tutils/ttree.rs.html#251-286">Source</a><a href="#impl-Node-for-R" class="anchor">ยง</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy_core::node::Node">Node</a> for <a class="struct" href="../tutils/ttree/struct.R.html" title="struct canopy_core::tutils::ttree::R">R</a></h3></section></div><script src="../../trait.impl/canopy_core/node/trait.Node.js" async></script></section></div></main></body></html>