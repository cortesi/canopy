<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Nodes are the basic building-blocks of a Canopy UI. They are composed in a tree, with each node responsible for managing its own children."><title>Node in canopy - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-6b053e98.ttf.woff2,FiraSans-Italic-81dc35de.woff2,FiraSans-Regular-0fe48ade.woff2,FiraSans-MediumItalic-ccf7e434.woff2,FiraSans-Medium-e1aa3f0a.woff2,SourceCodePro-Regular-8badfe75.ttf.woff2,SourceCodePro-Semibold-aa29a496.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../static.files/normalize-9960930a.css"><link rel="stylesheet" href="../static.files/rustdoc-1a91846b.css"><meta name="rustdoc-vars" data-root-path="../" data-static-root-path="../static.files/" data-current-crate="canopy" data-themes="" data-resource-suffix="" data-rustdoc-version="1.88.0 (6b00bc388 2025-06-23)" data-channel="1.88.0" data-search-js="search-f7877310.js" data-settings-js="settings-5514c975.js" ><script src="../static.files/storage-4e99c027.js"></script><script defer src="sidebar-items.js"></script><script defer src="../static.files/main-7ef8a74a.js"></script><noscript><link rel="stylesheet" href="../static.files/noscript-893ab5e7.css"></noscript><link rel="alternate icon" type="image/png" href="../static.files/favicon-32x32-6580c154.png"><link rel="icon" type="image/svg+xml" href="../static.files/favicon-044be391.svg"></head><body class="rustdoc trait"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../canopy/index.html">canopy</a><span class="version">0.0.1</span></h2></div><div class="sidebar-elems"><section id="rustdoc-toc"><h2 class="location"><a href="#">Node</a></h2><h3><a href="#provided-methods">Provided Methods</a></h3><ul class="block"><li><a href="#method.accept_focus" title="accept_focus">accept_focus</a></li><li><a href="#method.children" title="children">children</a></li><li><a href="#method.cursor" title="cursor">cursor</a></li><li><a href="#method.force_render" title="force_render">force_render</a></li><li><a href="#method.handle_key" title="handle_key">handle_key</a></li><li><a href="#method.handle_mouse" title="handle_mouse">handle_mouse</a></li><li><a href="#method.layout" title="layout">layout</a></li><li><a href="#method.poll" title="poll">poll</a></li><li><a href="#method.render" title="render">render</a></li></ul><h3><a href="#implementors">Implementors</a></h3></section><div id="rustdoc-modnav"><h2 class="in-crate"><a href="index.html">In crate canopy</a></h2></div></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><div class="rustdoc-breadcrumbs"><a href="index.html">canopy</a></div><h1>Trait <span class="trait">Node</span><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><rustdoc-toolbar></rustdoc-toolbar><span class="sub-heading"><a class="src" href="../src/canopy/node.rs.html#28-92">Source</a> </span></div><pre class="rust item-decl"><code>pub trait Node: <a class="trait" href="trait.StatefulNode.html" title="trait canopy::StatefulNode">StatefulNode</a> + <a class="trait" href="commands/trait.CommandNode.html" title="trait canopy::commands::CommandNode">CommandNode</a> {
    // Provided methods
    fn <a href="#method.force_render" class="fn">force_render</a>(&amp;self, c: &amp;dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.cursor" class="fn">cursor</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="cursor/struct.Cursor.html" title="struct canopy::cursor::Cursor">Cursor</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.accept_focus" class="fn">accept_focus</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a> { ... }
<span class="item-spacer"></span>    fn <a href="#method.children" class="fn">children</a>(
        &amp;mut self,
        f: &amp;mut dyn <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(&amp;mut dyn <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a>) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;,
    ) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.layout" class="fn">layout</a>(&amp;mut self, l: &amp;<a class="struct" href="layout/struct.Layout.html" title="struct canopy::layout::Layout">Layout</a>, target: <a class="struct" href="geom/struct.Expanse.html" title="struct canopy::geom::Expanse">Expanse</a>) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_key" class="fn">handle_key</a>(
        &amp;mut self,
        c: &amp;mut dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>,
        k: <a class="struct" href="event/key/struct.Key.html" title="struct canopy::event::key::Key">Key</a>,
    ) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy::EventOutcome">EventOutcome</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.handle_mouse" class="fn">handle_mouse</a>(
        &amp;mut self,
        c: &amp;mut dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>,
        k: <a class="struct" href="event/mouse/struct.MouseEvent.html" title="struct canopy::event::mouse::MouseEvent">MouseEvent</a>,
    ) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy::EventOutcome">EventOutcome</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.poll" class="fn">poll</a>(&amp;mut self, c: &amp;mut dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.88.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt; { ... }
<span class="item-spacer"></span>    fn <a href="#method.render" class="fn">render</a>(&amp;mut self, c: &amp;dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>, r: &amp;mut <a class="struct" href="struct.Render.html" title="struct canopy::Render">Render</a>&lt;'_&gt;) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt; { ... }
}</code></pre><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Nodes are the basic building-blocks of a Canopy UI. They are composed in a tree, with each node responsible for
managing its own children.</p>
</div></details><h2 id="provided-methods" class="section-header">Provided Methods<a href="#provided-methods" class="anchor">§</a></h2><div class="methods"><details class="toggle method-toggle" open><summary><section id="method.force_render" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#31-33">Source</a><h4 class="code-header">fn <a href="#method.force_render" class="fn">force_render</a>(&amp;self, c: &amp;dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Force the node to render in the next sweep. Over-riding this method should only be needed rarely, for instance
when a container node (e.g. a frame) needs to redraw if a child node changes.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.cursor" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#37-39">Source</a><h4 class="code-header">fn <a href="#method.cursor" class="fn">cursor</a>(&amp;self) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="cursor/struct.Cursor.html" title="struct canopy::cursor::Cursor">Cursor</a>&gt;</h4></section></summary><div class="docblock"><p>Called for each node on the focus path, after each render sweep. The first node that returns a
<code>cursor::Cursor</code> specification controls the cursor. If no node returns a cursor, cursor display is disabled.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.accept_focus" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#43-45">Source</a><h4 class="code-header">fn <a href="#method.accept_focus" class="fn">accept_focus</a>(&amp;mut self) -&gt; <a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.bool.html">bool</a></h4></section></summary><div class="docblock"><p>Attempt to focus this node. If the node accepts focus, it should return true, and if not return false. The
default implementation returns false.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.children" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#50-52">Source</a><h4 class="code-header">fn <a href="#method.children" class="fn">children</a>(
    &amp;mut self,
    f: &amp;mut dyn <a class="trait" href="https://doc.rust-lang.org/1.88.0/core/ops/function/trait.FnMut.html" title="trait core::ops::function::FnMut">FnMut</a>(&amp;mut dyn <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a>) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;,
) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Call a closure on this node’s children. If any child handler returns an error, processing terminates without
visiting the remaining children. The order in which nodes are processed should match intuitive next/previous
relationships. The default implementation assumes this node has no children, and just returns.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.layout" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#60-62">Source</a><h4 class="code-header">fn <a href="#method.layout" class="fn">layout</a>(&amp;mut self, l: &amp;<a class="struct" href="layout/struct.Layout.html" title="struct canopy::layout::Layout">Layout</a>, target: <a class="struct" href="geom/struct.Expanse.html" title="struct canopy::geom::Expanse">Expanse</a>) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Re-compute the size and view of the node if it had to be displayed in the target area. In practice, nodes will
usually either constrain themselves based on the width or the height of the target area, or neither, but not
both. The resulting size may be smaller or larger than the target. If non-trivial computation is done to compute
the size (e.g. reflowing text), it should be cached for use by future calls. This method may be called multiple
times for a given node during a render sweep, so re-fitting to the same size should be cheap and return
consistent results.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.handle_key" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#66-68">Source</a><h4 class="code-header">fn <a href="#method.handle_key" class="fn">handle_key</a>(&amp;mut self, c: &amp;mut dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>, k: <a class="struct" href="event/key/struct.Key.html" title="struct canopy::event::key::Key">Key</a>) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy::EventOutcome">EventOutcome</a>&gt;</h4></section></summary><div class="docblock"><p>Handle a key input event. This event is only called for nodes that are on the focus path. The default
implementation ignores input.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.handle_mouse" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#71-73">Source</a><h4 class="code-header">fn <a href="#method.handle_mouse" class="fn">handle_mouse</a>(
    &amp;mut self,
    c: &amp;mut dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>,
    k: <a class="struct" href="event/mouse/struct.MouseEvent.html" title="struct canopy::event::mouse::MouseEvent">MouseEvent</a>,
) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="enum" href="enum.EventOutcome.html" title="enum canopy::EventOutcome">EventOutcome</a>&gt;</h4></section></summary><div class="docblock"><p>Handle a mouse input event. The default implementation ignores mouse input.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.poll" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#78-80">Source</a><h4 class="code-header">fn <a href="#method.poll" class="fn">poll</a>(&amp;mut self, c: &amp;mut dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>) -&gt; <a class="enum" href="https://doc.rust-lang.org/1.88.0/core/option/enum.Option.html" title="enum core::option::Option">Option</a>&lt;<a class="struct" href="https://doc.rust-lang.org/1.88.0/core/time/struct.Duration.html" title="struct core::time::Duration">Duration</a>&gt;</h4></section></summary><div class="docblock"><p>The scheduled poll endpoint. This function is called for every node the first time it is seen during the
pre-render sweep. Each time the function returns a duration, a subsequent call is scheduled. If the function
returns None, the <code>poll</code> function is never called again. The default implementation returns <code>None</code>.</p>
</div></details><details class="toggle method-toggle" open><summary><section id="method.render" class="method"><a class="src rightside" href="../src/canopy/node.rs.html#89-91">Source</a><h4 class="code-header">fn <a href="#method.render" class="fn">render</a>(&amp;mut self, c: &amp;dyn <a class="trait" href="trait.Context.html" title="trait canopy::Context">Context</a>, r: &amp;mut <a class="struct" href="struct.Render.html" title="struct canopy::Render">Render</a>&lt;'_&gt;) -&gt; <a class="type" href="type.Result.html" title="type canopy::Result">Result</a>&lt;<a class="primitive" href="https://doc.rust-lang.org/1.88.0/std/primitive.unit.html">()</a>&gt;</h4></section></summary><div class="docblock"><p>Render this widget. The render method should:</p>
<ul>
<li>Lay out any child nodes by manipulating their viewports. This will often involve calling the <code>fit</code> method on
the child nodes to get their dimensions.</li>
<li>Render itself to screen. This node’s viewport will already have been set by a parent.</li>
</ul>
<p>The default implementation does nothing.</p>
</div></details></div><h2 id="implementors" class="section-header">Implementors<a href="#implementors" class="anchor">§</a></h2><div id="implementors-list"><section id="impl-Node-for-Inspector" class="impl"><a class="src rightside" href="../src/canopy/inspector/mod.rs.html#38-53">Source</a><a href="#impl-Node-for-Inspector" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="inspector/struct.Inspector.html" title="struct canopy::inspector::Inspector">Inspector</a></h3></section><section id="impl-Node-for-Editor" class="impl"><a class="src rightside" href="../src/canopy/widgets/editor/editor_impl.rs.html#108-124">Source</a><a href="#impl-Node-for-Editor" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="widgets/editor/struct.Editor.html" title="struct canopy::widgets::editor::Editor">Editor</a></h3></section><section id="impl-Node-for-Input" class="impl"><a class="src rightside" href="../src/canopy/widgets/input.rs.html#165-209">Source</a><a href="#impl-Node-for-Input" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="widgets/struct.Input.html" title="struct canopy::widgets::Input">Input</a></h3></section><section id="impl-Node-for-Text" class="impl"><a class="src rightside" href="../src/canopy/widgets/text.rs.html#73-110">Source</a><a href="#impl-Node-for-Text" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="widgets/struct.Text.html" title="struct canopy::widgets::Text">Text</a></h3></section><section id="impl-Node-for-Tabs" class="impl"><a class="src rightside" href="../src/canopy/widgets/tabs.rs.html#40-60">Source</a><a href="#impl-Node-for-Tabs" class="anchor">§</a><h3 class="code-header">impl <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="widgets/tabs/struct.Tabs.html" title="struct canopy::widgets::tabs::Tabs">Tabs</a></h3></section><section id="impl-Node-for-Frame%3CN%3E" class="impl"><a class="src rightside" href="../src/canopy/widgets/frame.rs.html#104-181">Source</a><a href="#impl-Node-for-Frame%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;N&gt; <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="widgets/frame/struct.Frame.html" title="struct canopy::widgets::frame::Frame">Frame</a>&lt;N&gt;<div class="where">where
    N: <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a>,</div></h3></section><section id="impl-Node-for-List%3CN%3E" class="impl"><a class="src rightside" href="../src/canopy/widgets/list.rs.html#301-401">Source</a><a href="#impl-Node-for-List%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;N&gt; <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="widgets/list/struct.List.html" title="struct canopy::widgets::list::List">List</a>&lt;N&gt;<div class="where">where
    N: <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> + <a class="trait" href="widgets/list/trait.ListItem.html" title="trait canopy::widgets::list::ListItem">ListItem</a>,</div></h3></section><section id="impl-Node-for-Panes%3CN%3E" class="impl"><a class="src rightside" href="../src/canopy/widgets/panes.rs.html#93-114">Source</a><a href="#impl-Node-for-Panes%3CN%3E" class="anchor">§</a><h3 class="code-header">impl&lt;N: <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a>&gt; <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="widgets/struct.Panes.html" title="struct canopy::widgets::Panes">Panes</a>&lt;N&gt;</h3></section><section id="impl-Node-for-Root%3CT%3E" class="impl"><a class="src rightside" href="../src/canopy/root.rs.html#139-164">Source</a><a href="#impl-Node-for-Root%3CT%3E" class="anchor">§</a><h3 class="code-header">impl&lt;T&gt; <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a> for <a class="struct" href="struct.Root.html" title="struct canopy::Root">Root</a>&lt;T&gt;<div class="where">where
    T: <a class="trait" href="trait.Node.html" title="trait canopy::Node">Node</a>,</div></h3></section></div><script src="../trait.impl/canopy/node/trait.Node.js" async></script></section></div></main></body></html>